<!DOCTYPE html>
<html>
<head>
	<title>Tap Clone</title>
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/paper.js/0.9.18/paper-full.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/1.1.28/howler.js"></script>
	<link rel="stylesheet" type="text/css" href="tap_clone.css">

	<script type="text/paperscript" canvas="myCanvas">
var audio = ["bubbles","clay","confetti", "corona","dotted-spiral","flash-1","flash-2","flash-3","glimmer","moon","pinwheel","piston-1","piston-2","prism-1","prism-2","prism-3","splits","squiggle","strike","suspension","timer","ufo","veil","wipe","zig-zag","bubbles"];

var polygons = [];

function getRandomColor() {
	var letters = '0123456789ABCDEF';
	var color = '#';
	for (var i = 0; i < 6; i++) {
		color += letters[Math.floor(Math.random() * 16)];
	}
	return color;
}

function onKeyDown(event) {
	var index = event.key.charCodeAt(0) - 97;
	console.log(index);
	if(index >= 0 && index <= 25){
		var edges = Math.floor(Math.random() * 9) + 2; 
		var maxPoint = new Point(view.size.width, view.size.height);
		var randomPoint = Point.random();
		var point = maxPoint * randomPoint;
		var newPolygon = new Path.RegularPolygon(point, edges, 500);
		newPolygon.fillColor = getRandomColor();
		newPolygon.selected = true;
		var sound = new Howl({
			urls: ['audio/' + audio[index] + '.mp3']
		});
		sound.play();
		polygons.push(newPolygon);
	}
}

function onFrame(event){
	for(var i = 0; i < polygons.length; i++){
		polygons[i].fillColor.hue += 1;
		polygons[i].scale(.9);
	}
}
</script>
</head>
<body>
	<div class="canvas-container">
		<canvas id="myCanvas" resize></canvas>
		<a href="index.html" id='button'>Go Back</a>
	</div>  
</body>
</html>